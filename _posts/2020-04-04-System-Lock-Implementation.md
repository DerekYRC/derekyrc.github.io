---
layout:     post
title:      从操作系统层面看锁的实现原理 
subtitle:   自旋锁和互斥锁的实现原理
date:       2020-04-04
author:     Derek
header-img: img/post-bg-map.jpg 	# 这篇文章标题背景图片
catalog: true 						# 是否归档
tags:								# 标签
    - 操作系统
    - 锁
---
锁是并发编程中保证线程安全的重要手段。多进程或多线程程序设计能提高资源的利用率从而提供机器的整体性能，但同时会带来线程安全的问题。协作的线程可能会共享一些彼此都能读写的公共存储区域，如内存和文件，对公共存储区域进行访问的程序片段我们称为临界区（critical section）。多线程对公共存储区域的操作的结果，取决于进程/线程运行的的精确时序，这被称为竞争条件（race condition）。为了避免竞争条件，需要安排同一时间只能有一个线程处于临界区中，达到线程安全的目的--这就是锁存在的意义，持有锁的线程才能进入临界区，其他线程自旋或阻塞等待锁的释放然后竞争获取锁。

